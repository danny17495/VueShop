webpackJsonp([8],{kr0Y:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("7t+N"),c=a.n(i),e={name:"ProductDetail",data:function(){return{productId:"",product:[],productNum:1,isLoading:!1,status:{loadingItem:""},products:[],cart:{}}},methods:{getProduct:function(){var t=this,s="https://vue-course-api.hexschool.io/api/danny17495/product/"+t.productId;t.isLoading=!0,t.$http.get(s).then(function(s){t.isLoading=!1,s.data.success?t.product=s.data.product:(t.$bus.$emit("message:push",s.data.message,"danger"),t.$router.push("/shopping/productlist"))})},getProducts:function(){var t=this;t.isLoading=!0,t.$http.get("https://vue-course-api.hexschool.io/api/danny17495/products/all").then(function(s){t.isLoading=!1,s.data.success?t.products=s.data.products:t.$bus.$emit("message:push",s.data.message,"danger")})},addtoCart:function(t,s){var a=this,i={product_id:t,qty:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,productNum:s};a.isLoading=!0,a.$http.post("https://vue-course-api.hexschool.io/api/danny17495/cart",{data:i}).then(function(t){console.log("post",t.data),t.data.success?(a.getCart(),a.$bus.$emit("cart:get"),a.$bus.$emit("message:push","商品已加入購物車","success")):a.$bus.$emit("message:push",t.data.message,"danger"),a.isLoading=!1})},getCart:function(){var t=this;t.isLoading=!0;t.$http.get("https://vue-course-api.hexschool.io/api/danny17495/cart").then(function(s){t.isLoading=!1,t.myCarts=s.data.data,console.log("getCart",s.data.data)})},changeQty:function(t){var s=this.productNum+t;this.changeNumber(s),console.log("數量",this.changeNumber(s))},changeNumber:function(t){var s=t;this.productNum=s>=10?10:s<=1?1:s},gotop:function(){c()("html, body").animate({scrollTop:0},1500)}},computed:{filterSimilarProducts:function(){var t=this,s=this;return s.products.filter(function(a){return a.id!==t.productId&&a.category===s.product.category&&a.is_enabled})}},watch:{$route:function(t,s){this.productId=this.$route.params.product_id,this.getProduct()}},created:function(){this.productId=this.$route.params.product_id,this.getProduct(),this.getProducts(),this.getCart(),c()(window).scroll(function(){c()(this).scrollTop()>400?c()("#gotopBtn").fadeIn():c()("#gotopBtn").fadeOut()})}},o={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"productdetail pb-5 pt-4"},[a("div",{staticClass:"detailbg"},[a("div",{staticClass:"container"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb bg-transparent px-0 mb-3"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"text-sborange",attrs:{to:"/"}},[t._v("首頁")])],1),t._v(" "),a("li",{staticClass:"breadcrumb-item"},[a("a",{staticClass:"text-sborange",on:{click:function(s){return s.preventDefault(),t.$router.push({name:"ProductList",params:{category:t.product.category}})}}},[t._v(t._s(t.product.category))])]),t._v(" "),a("li",{staticClass:"breadcrumb-item active text-sbtan",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])])]),t._v(" "),a("div",{staticClass:"container main"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 col-md-6"},[a("div",{staticClass:"productImage"},[a("img",{attrs:{src:t.product.imageUrl,alt:""}})])]),t._v(" "),a("div",{staticClass:"col-6 col-md-6"},[a("div",{staticClass:"productTitle text-sbbrown font-weight-bold"},[t._v(t._s(t.product.title))]),t._v(" "),a("div",{staticClass:"d-flex justify-content-end align-items-end mt-3"},[a("div",{staticClass:"h6 mr-auto mb-0"},[a("span",{staticClass:"text-muted"},[t._v("建議售價 ")]),t._v(" "),a("span",{staticClass:"text-muted"},[a("s",[t._v(t._s(t._f("currency")(t.product.origin_price)))])])]),t._v(" "),a("div",[a("div",{staticClass:"onlinePrice ml-auto mb-0"},[a("small",[t._v("網路價")]),t._v(" "),a("strong",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t._f("currency")(t.product.price)))])])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"productInfo mt-4"},[a("p",{staticClass:"text-justify text-sbbrown"},[t._v(t._s(t.product.description))])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row mt-4 align-items-end"},[a("div",{staticClass:"col-sm-3 col-md-3"},[t._v("數量")]),t._v(" "),a("div",{staticClass:"col-sm-9 col-md-8"},[a("div",{staticClass:"btn-group border"},[a("button",{staticClass:"btn btn-outline-sbtan",attrs:{type:"button"},on:{click:function(s){return t.changeQty(-1)}}},[a("i",{staticClass:"fas fa-minus"})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.productNum,expression:"productNum"}],staticClass:"input-qty btn btn-outline-sbtan",attrs:{type:"number",readonly:""},domProps:{value:t.productNum},on:{change:function(s){return t.changeNumber(t.productNum,t.product.num)},input:function(s){s.target.composing||(t.productNum=s.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-outline-sbtan",attrs:{type:"button"},on:{click:function(s){return t.changeQty(1)}}},[a("i",{staticClass:"fas fa-plus"})])])])]),t._v(" "),a("div",{staticClass:"row mt-4 buyButton"},[a("div",{staticClass:"col-md-6 mt-3"},[a("button",{staticClass:"btn btn-danger btn-block",attrs:{type:"button"},on:{click:function(s){s.preventDefault(),t.addtoCart(t.product.id,t.product.num),t.$router.push("/shopping/cartlist")}}},[t._v("立即購買")])]),t._v(" "),a("div",{staticClass:"col-md-6 mt-3"},[a("button",{staticClass:"btn btn-dark btn-block text-white ",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.addtoCart(t.product.id,t.product.num,t.productNum)}}},[t._v("加入購物車")])])])])]),t._v(" "),a("div",{staticClass:"row buyButton2 mt-4"},[a("div",{staticClass:"col-sm-6 col-md-6"},[a("button",{staticClass:"btn btn-danger btn-block",attrs:{type:"button"},on:{click:function(s){s.preventDefault(),t.addtoCart(t.product.id,t.product.num),t.$router.push("/shopping/cartlist")}}},[t._v("立即購買")])]),t._v(" "),a("div",{staticClass:"col-sm-6 col-md-6"},[a("button",{staticClass:"btn btn-dark btn-block text-white",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.addtoCart(t.product.id,t.product.num,t.productNum)}}},[t._v("加入購物車")])])]),t._v(" "),a("div",{staticClass:"product_description"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"similarContent mt-5"},[a("div",{staticClass:"h5 text-sbbrown font-weight-bold"},[t._v("相似商品")]),t._v(" "),a("div",{staticClass:"row similar"},t._l(t.filterSimilarProducts,function(s){return a("div",{key:s.id,staticClass:"col-md-3 col-sm-6 col-12"},[a("div",{staticClass:"productCard",on:{click:function(a){return a.preventDefault(),t.$router.push("/shopping/productdetail/"+s.id)}}},[a("div",{staticClass:"imgwarp"},[a("img",{attrs:{src:s.imageUrl,alt:""}}),t._v(" "),a("div",{staticClass:"cardtext"},[t._v(t._s(s.title))]),t._v(" "),a("div",{staticClass:"cardtext"},[t._v(t._s(t._f("currency")(s.price)))])])])])}),0)])])]),t._v(" "),a("button",{staticClass:"gotop-btn",attrs:{id:"gotopBtn"},on:{click:t.gotop}},[a("i",{staticClass:"fas fa-arrow-up gotop-arrow"})])])])},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("section",{staticClass:"mt-5"},[a("div",{staticClass:"productItd"},[a("h5",{staticClass:"font-weight-bold text-sbbrown"},[a("i",{staticClass:"fas fa-leaf"}),t._v(" 商品特色")]),t._v(" "),a("div",{staticClass:"productContent p-3 my-4"},[a("div",{staticClass:"row text-center mb-5"},[a("div",{staticClass:"col-sm-6 col-md-3"},[a("p",{staticClass:"productText align-items-start"},[t._v("送禮自用皆宜")]),t._v(" "),a("img",{staticClass:"align-items-center img-thumbnail imgHeight",attrs:{src:"https://upload.cc/i1/2020/08/31/Y3KTBt.jpg",alt:""}})]),t._v(" "),a("div",{staticClass:"col-sm-6 col-md-3"},[a("p",{staticClass:"productText align-items-start"},[t._v("獨一無二")]),t._v(" "),a("img",{staticClass:"align-items-center img-thumbnail",attrs:{src:"https://upload.cc/i1/2020/08/31/er0zl6.jpg",alt:""}})]),t._v(" "),a("div",{staticClass:"col-sm-6 col-md-3"},[a("p",{staticClass:"productText align-items-start"},[t._v("優良品牌")]),t._v(" "),a("img",{staticClass:"align-items-center img-thumbnail",attrs:{src:"https://upload.cc/i1/2020/08/31/9Sivz4.jpg",alt:""}})]),t._v(" "),a("div",{staticClass:"col-sm-6 col-md-3"},[a("p",{staticClass:"productText align-items-start"},[t._v("自由搭配")]),t._v(" "),a("img",{staticClass:"align-items-center img-thumbnail",attrs:{src:"https://upload.cc/i1/2020/08/31/XSal3H.jpg",alt:""}})])]),t._v(" "),a("div",{staticClass:"row mt-4 p-3"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"h4 text-danger text-center font-weight-bold"},[t._v("尋找自己的御三家")]),t._v(" "),a("ul",{staticClass:"list-unstyled text-sbbrown py-3"},[a("li",[a("i",{staticClass:"far fa-smile-beam"}),t._v(" 寶可夢迷不可錯過的經典")]),t._v(" "),a("hr"),t._v(" "),a("li",[a("i",{staticClass:"far fa-smile-beam"}),t._v(" 獨特仿真設計")]),t._v(" "),a("hr"),t._v(" "),a("li",[a("i",{staticClass:"far fa-smile-beam"}),t._v(" 立即下訂免運費")])])]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("img",{staticClass:"img-fluid",attrs:{src:"https://upload.cc/i1/2020/08/31/5LNsRE.jpg",alt:"Responsive image"}})])])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("section",{staticClass:"mt-5"},[a("div",{staticClass:"buyNeed mt-5"},[a("h5",{staticClass:"font-weight-bold text-sbbrown"},[a("i",{staticClass:"fas fa-exclamation-circle"}),t._v(" 購買須知\n            ")]),t._v(" "),a("ul",{staticClass:"text-sbtan"},[a("li",[t._v("24H直達配送")]),t._v(" "),a("li",[t._v("12歲以下小朋友請由家長陪同使用")]),t._v(" "),a("li",[t._v("製造日期：請見包裝標示(西元 /年/月/日)")]),t._v(" "),a("li",[t._v("本商城販售之商品拆封後無7天鑑賞期服務")])])])])}]},r=a("VU/8")(e,o,!1,null,null,null);s.default=r.exports}});
//# sourceMappingURL=8.92e68584fc5ba26a3c8c.js.map